# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Codemagic –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Kasidie City Whisper

## –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: github.com/fryfarrrell/testrep

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ Codemagic

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ [codemagic.io](https://codemagic.io)
2. –ù–∞–∂–º–∏—Ç–µ **"Add application"** –∏–ª–∏ **"Start building"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **GitHub** –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub
5. –ù–∞–π–¥–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **`fryfarrrell/testrep`**
6. –ù–∞–∂–º–∏—Ç–µ **"Select repository"**
7. –í—ã–±–µ—Ä–∏—Ç–µ **"Flutter"** –∫–∞–∫ —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞
8. Codemagic –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `codemagic.yaml`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Google Maps API key:

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Environment variables"**
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Key**: `GOOGLE_MAPS_API_KEY`
   - **Value**: –≤–∞—à API key
   - **Secure**: ‚úÖ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å)

3. –û–±–Ω–æ–≤–∏—Ç–µ `ios/Runner/AppDelegate.swift` —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
```swift
import GoogleMaps

let apiKey = ProcessInfo.processInfo.environment["GOOGLE_MAPS_API_KEY"] ?? ""
if !apiKey.isEmpty {
    GMSServices.provideAPIKey(apiKey)
}
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–∏

1. –ù–∞–∂–º–∏—Ç–µ **"Start new build"**
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow:
   - **ios-workflow** - –¥–ª—è —Å–±–æ—Ä–∫–∏ —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ä—Å–∏–∏
   - **ios-test-workflow** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É (–æ–±—ã—á–Ω–æ `main` –∏–ª–∏ `master`)
4. –ù–∞–∂–º–∏—Ç–µ **"Start build"**

### –®–∞–≥ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–±–æ—Ä–∫–∏

- –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- Codemagic –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
  - `.app` —Ñ–∞–π–ª –¥–ª—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
  - `.ipa` —Ñ–∞–π–ª (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω code signing)

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ Workflows

### 1. ios-workflow
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–±–æ—Ä–∫–∞ —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ä—Å–∏–∏ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–®–∞–≥–∏**:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (Hive)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CocoaPods
- ‚úÖ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –°–±–æ—Ä–∫–∞ iOS (–±–µ–∑ –ø–æ–¥–ø–∏—Å–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `.app` –∏ `.ipa` —Ñ–∞–π–ª—ã

### 2. ios-test-workflow
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ iOS —Å–∏–º—É–ª—è—Ç–æ—Ä–µ

**–®–∞–≥–∏**:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
- ‚úÖ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –°–±–æ—Ä–∫–∞ –¥–ª—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
- ‚úÖ –ó–∞–ø—É—Å–∫ –Ω–∞ iPhone 17 Pro Max (–∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ–º —Å–∏–º—É–ª—è—Ç–æ—Ä–µ)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Code Signing (–¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ App Store)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Code signing"**
2. –î–æ–±–∞–≤—å—Ç–µ:
   - **iOS code signing certificate** (.p12 —Ñ–∞–π–ª)
   - **iOS provisioning profile** (.mobileprovision —Ñ–∞–π–ª)
3. –û–±–Ω–æ–≤–∏—Ç–µ `codemagic.yaml`:
```yaml
code_signing:
  ios:
    distribution_type: app_store  # –∏–ª–∏ ad_hoc, development
```

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏:

1. –°–∫–∞—á–∞–π—Ç–µ `.ipa` —Ñ–∞–π–ª –∏–∑ Codemagic
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **TestFlight** –¥–ª—è –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤ **BrowserStack** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "No devices found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ workflow —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π instance_type
- –î–ª—è iOS –Ω—É–∂–µ–Ω `mac_mini_m1` –∏–ª–∏ `mac_pro`

### –û—à–∏–±–∫–∞: "Pod install failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `ios/Podfile` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è CocoaPods —Å–æ–≤–º–µ—Å—Ç–∏–º–∞

### –û—à–∏–±–∫–∞: "Build runner failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `build_runner` –≤ `dev_dependencies`

### –û—à–∏–±–∫–∞: "Google Maps API key missing"
- –î–æ–±–∞–≤—å—Ç–µ API key –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Google Maps –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

1. –í `codemagic.yaml` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. –û–±–Ω–æ–≤–∏—Ç–µ email –≤ —Å–µ–∫—Ü–∏–∏ `publishing.email.recipients`
3. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Slack/Discord –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Codemagic

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Codemagic Documentation](https://docs.codemagic.io)
- [Flutter –Ω–∞ Codemagic](https://docs.codemagic.io/getting-started/building-a-flutter-app/)
- [iOS Code Signing](https://docs.codemagic.io/code-signing/ios-code-signing/)

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–æ–π

- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Codemagic
- [ ] –§–∞–π–ª `codemagic.yaml` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã –≤ `pubspec.yaml`
- [ ] Google Maps API key –¥–æ–±–∞–≤–ª–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –í—ã–±—Ä–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –Ω–∞ Codemagic –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
